# **Mysql**



## **关系键：**

**主键**：能唯一标识表中每一行的键，一个数据表只能有一个主键，且不能为Null（从候选键中选出一个作为
主键）  
**超键**：能唯一标识一行数据的属性集  
**候选键**：不含有多余属性的超键  
**外键**：其他表的主键，多用于join联表   

<img src="/Users/zhoushichen/Desktop/基础知识/image/database keys.png" alt="alt text" style="zoom:50%;" align="left"/>



## **数据库三范式**

数据库范式是为了解决数据冗余的问题，数据冗余可能会造成数据库的插入、删除、更新异常    

**1NF**：

1. 每一行都是唯一的  
2. 每一个字段的数据都是不可再分的，只能存放单一的值   

**2NF**：

1. 必须符合1NF  
2. 不存在部分函数依赖（所有非主属性都必须完全函数依赖于候选键）   
3. Example：比如学生表（学号、姓名、课程号、学分），这里姓名依赖学号、学分依赖课程号，第二范式强调非主键字段必须依赖主键，所以不符合第二范式

**3NF**：

1. 必须符合1NF和2NF  
2. 不存在传递函数依赖（所有字段都和主键直接相关，而不是间接相关）
3. Example：比如学生表（学号、姓名、年龄、学院名称、学院电话），因为存在依赖关系：学号->学生->所在学院->学院电话，而第三范式要求任何字段都不能由其他字段派生出来，它要求字段没有冗余，即不存在传递依赖



## **范式化与反范式化的优缺点**

**范式化**：

1. 减少了数据冗余的情况，并部分解决了数据冗余带来的插入、删除、更新异常

2. 范式化后的数据表通常比反范式化的表更小  
3. 数据重复的情况少，更新快   
4. 范式化拆分了更多表，增加了join操作的使用，降低了查询效率

**反范式化**：

1. 可以减少join操作的使用  
2. 数据冗余，并存在插入、删除、更新异常



## B+树和B树的区别

1. B树的所有节点都存放了key和数据（因为所有key只存了一次，所以空间利用率更高）。而B+树只有叶子结点存放了数据（或指向数据位置的指针），其余节点存放的key用于指引搜索方向。
2. B树的深度
3. B+树的叶子结点是双向链表的结构，因此相比B树更适合范围查询





